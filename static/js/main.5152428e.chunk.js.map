{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","PiedDePage.jsx","Appli.jsx","index.jsx"],"names":["SommairePanier","panier","affichable","info","pan","tabArticles","Object","values","nbArticles","totalItems","st","tps","tvq","total","length","reduce","leTotal","article","qte","prix","toFixed","retournerInfoPanier","console","log","className","Entete","props","etatPanier","qteAccumuler","acc","useState","sommaireAffichable","setSommaireAffichable","Badge","onClick","badgeContent","color","BtnAjoutPanier","texte","setTexte","setQte","Produit","setPanier","id","src","alt","nom","ListeProduits","tabProduits","map","prd","PiedDePage","annee","Date","getFullYear","Appli","panierDansLS","window","localStorage","getItem","JSON","parse","useEffect","setItem","stringify","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5152428e.chunk.js","sourcesContent":["import './SommairePanier.scss';\r\n\r\nexport default function SommairePanier({panier , affichable}) {\r\n\r\n    const info = retournerInfoPanier(panier);\r\n    console.log(panier)\r\n\r\n    return (\r\n        <div className={`SommairePanier ${!affichable && 'cacher'}`}>\r\n            <span>Articles différents : {info.nbArticles}</span>\r\n            <span>Total # items : {info.totalItems}</span>\r\n            <span>Sous-total : {info.st}</span>\r\n            <span>TPS : {info.tps}</span>\r\n            <span>TVQ : {info.tvq}</span>\r\n            <span>Total : {info.total}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction retournerInfoPanier(pan) {\r\n    // console.log(pan)\r\n    const tabArticles = Object.values(pan);\r\n    let info = {\r\n        nbArticles: 0,\r\n        totalItems: 0,\r\n        st: 0,\r\n        tps: 0,\r\n        tvq: 0,\r\n        total: 0,\r\n    };\r\n    info.nbArticles = tabArticles.length;\r\n    info.totalItems = tabArticles.reduce((leTotal, article) => leTotal + article.qte ,0)\r\n    const st = tabArticles.reduce((leTotal,article)=> leTotal + (article.prix * article.qte) ,0);\r\n    info.st = st.toFixed(2);\r\n    const tps = st * 0.05;\r\n    info.tps = tps.toFixed(2);\r\n    const tvq = st * 0.09975;\r\n    info.tvq = tvq.toFixed(2);\r\n    info.total = (st + tps + tvq).toFixed(2);\r\n\r\n    return info;\r\n}\r\n","import './Entete.scss';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport Badge from '@material-ui/core/Badge';\nimport SommairePanier from './SommairePanier';\nimport {useState} from 'react';\n\nfunction Entete(props) {\n\n  const [panier,setPanier] = props.etatPanier;\n\n  const qteAccumuler = Object.values(panier).reduce((total,acc) => total + acc.qte, 0);\n\n  const [sommaireAffichable, setSommaireAffichable] = useState(false);\n\n  function basculerAffichageSommairePanier() {\n    setSommaireAffichable(!sommaireAffichable);\n  }\n\n  return (\n    <header className=\"Entete\">\n      <div className=\"logo\">Magasin</div>\n      <ul className=\"navPrincipale\">\n        <li>Produits</li>\n        <li>À propos de nous</li>\n        <li>Contactez-nous</li>\n      </ul>\n      <ul className=\"navUtilisateur\">\n        <li>\n          <Badge onClick={basculerAffichageSommairePanier} badgeContent={qteAccumuler} color=\"secondary\">\n            <ShoppingCartIcon />\n          </Badge>\n          <SommairePanier panier={panier} affichable={sommaireAffichable}/>\n        </li>\n        <li>Mon compte</li>\n      </ul>\n    </header>\n  )\n}\n\nexport default Entete;","import { Badge } from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport \"./BtnAjoutPanier.scss\";\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\n\nexport default function BtnAjoutPanier(props) {\n  const [texte, setTexte] = useState(\"Ajouter au panier\");\n  const [qte, setQte] = useState(0);\n\n  return (\n    <Badge badgeContent={qte} color=\"primary\">\n      <button\n        onClick={() => {\n          props.onClick();\n          setTexte(<AddShoppingCartIcon/>);\n          setQte(qte + 1);\n        }}\n        className={`BtnAjoutPanier ${qte > 0 && 'rouge'}`}\n      >\n        {texte}\n      </button>\n    </Badge>\n  );\n}\n","import BtnAjoutPanier from './BtnAjoutPanier';\nimport './Produit.scss';\n\nexport default function Produit(props) {\n\n  const [panier, setPanier] = props.etatPanier;\n\n  const {prix, id} = props;\n\n  function ajoutPanier() {\n    if(panier[id]) {\n      panier[id].qte++;\n    }\n    else {\n     panier[id] = {prix: prix, qte: 1};\n    }\n    setPanier({...panier});\n  }\n\n  return(\n    <li className=\"Produit\">\n      <img src={'images-produits/' + props.id + '.webp'} alt=\"\"/>\n      <div className=\"info\">\n        <p className=\"nom\">{props.nom}</p>\n        <p className=\"prix\">{props.prix}</p>\n      </div>\n      <BtnAjoutPanier onClick={ajoutPanier} />\n    </li>\n  );\n}","import './ListeProduits.scss';\nimport Produit from \"./Produit\";\nimport tabProduits from './data/produits.json';\n\nexport default function ListeProduits(props) {\n\n  return (\n    <div className=\"ListeProduits\">\n      <h2>Produits disponibles</h2>\n      <ul>\n        \n        {tabProduits.map(prd => \n         <Produit etatPanier={props.etatPanier} key={prd.id} nom={prd.nom} prix={prd.prix} id={prd.id} />\n        )}\n      </ul>\n    </div>\n  );\n}","import './PiedDePage.scss';\n\nexport default function PiedDePage(props) {\n  const annee = new Date().getFullYear();\n  return (\n    <footer className=\"PiedDePage\">\n      &copy;{annee} - TIM - Tous droits réservés.\n    </footer>\n  );\n}","import \"./Appli.scss\";\nimport { useEffect, useState } from \"react\";\nimport Entete from \"./Entete.jsx\";\nimport ListeProduits from \"./ListeProduits\";\nimport PiedDePage from \"./PiedDePage\";\n\nexport default function Appli() {\n  const etatPanier = useState(() => {\n    let panierDansLS = window.localStorage.getItem(\"panier\");\n    if (panierDansLS !== null) {\n      return JSON.parse(panierDansLS);\n    } else {\n      return {};\n    }\n  });\n\n  const [panier] = etatPanier;\n\n  \n\n  useEffect(() => {\n    window.localStorage.setItem(\"panier\", JSON.stringify(panier));\n  }, [panier]);\n\n  return (\n    <div className=\"Appli\">\n      <Entete etatPanier={etatPanier} />\n      <section className=\"contenuPrincipal\">\n        <ListeProduits etatPanier={etatPanier} />\n      </section>\n      <PiedDePage />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport Appli from './Appli';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Appli />\n  </React.StrictMode>,\n  document.getElementById('racine')\n);"],"sourceRoot":""}